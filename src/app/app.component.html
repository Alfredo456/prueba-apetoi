<div class="container">
  <form class="mt-5" [formGroup]="form">
    <div class="row my-5">
      <h2 class="col-12 text-center">Programming Exercise: Angular Developer for Apetoi</h2>
    </div>
    <div class="form-group row">
      <label class="col-sm-2 col-form-label">Start Date</label>
      <div class="col-sm-10 form-row mx-0">
        <input class="form-control col col-sm-10" placeholder="yyyy-mm-dd" name="dp" ngbDatepicker #d="ngbDatepicker"
          (ngModelChange)="format($event)" readonly [(ngModel)]="fromDate" [ngModelOptions]="{standalone: true}">
        <div class="col col-sm-2 input-group-append">
          <button class="input-group-text" (click)="d.toggle()" type="button">
            <span style="cursor: pointer;">Seleccione</span>
          </button>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-sm-2 col-form-label">Number of days</label>
      <div class="col-sm-10">
        <input type="number" formControlName="numberOfDays" class="form-control" placeholder="Number of days">
      </div>
    </div>
    <div class="form-group row">
      <label class="col-sm-2 col-form-label">Country Code</label>
      <div class="col-sm-10">
        <input type="text" formControlName="countryCode" class="form-control" placeholder="Country Code">
      </div>
    </div>
    <div class="row">
      <div class="col-12 d-flex justify-content-center">
        <button class="btn btn-primary" (click)="generate()">
          submit
        </button>
      </div>
    </div>
  </form>
  <ng-template [ngIf]="inicial">

    <div class="table-responsive mt-5 mx-auto" style="width: 550px; height: 550px;">
      <table class="table align-items-center table-bordered">
        <thead class="thead-light">
          <tr>
            <th colspan="7" class="text-center">year: {{actualYear}}</th>
          </tr>
          <tr>
            <th colspan="7" class="text-center">Month: {{actualMonth +1}}</th>
          </tr>
          <tr>
            <th scope="col" class="text-center">Su</th>
            <th scope="col" class="text-center">Mo</th>
            <th scope="col" class="text-center">Tu</th>
            <th scope="col" class="text-center">We</th>
            <th scope="col" class="text-center">Th</th>
            <th scope="col" class="text-center">Fr</th>
            <th scope="col" class="text-center">Sa</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let arrayDays of calendarSheet">
            <td *ngFor="let day of arrayDays"
              [ngClass]="{'Invalid': day.type==='Invalid', 'Weekends': day.type==='Weekends', 'Weekdays': day.type==='Weekdays', 'Holiday': day.type==='Holiday'}"
              class="text-center hovering"> {{day.number? day.number : '' }}</td>
          </tr>
          <tr>
            <td colspan="3">
              <div class="d-flex justify-content-center">
                <button type="submit" class="btn btn-primary" (click)="back()">
                  Back
                </button>
              </div>
            </td>
            <td></td>
            <td colspan="3">
              <div class="d-flex justify-content-center">
                <button type="submit" class="btn btn-primary" (click)="next()">
                  Next
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </ng-template>
</div>
